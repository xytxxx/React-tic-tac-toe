(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(e,t,r){var a=r(8);function n(e){for(var t=0,r=0,n=!0,i=0;i<3;i++){t=0;for(var o=0;o<3;o++)t+=e[o][i],n&&0===e[o][i]&&(n=!1);if(3===t)return 1;if(-3===t)return-1}for(var c=0;c<3;c++){if(3===(t=a.sum(e[c])))return 1;if(-3===t)return-1}t=0;for(var s=0;s<3;s++)t+=e[s][s],r+=e[2-s][s];return 3===t?1:-3===t?-1:3===r?1:-3===r?-1:n?0:2}function i(e){return e.map(function(e){return e.slice()})}function o(e){for(var t=[],r=0;r<3;r++)for(var a=0;a<3;a++)0===e[r][a]&&t.push([r,a]);return t}var c=function(e){return e[0].toString()+e[1].toString()};function s(e){e?u=e:console.log("wrong")}var u=[];function l(e,t,r,u){var p=i(e),d=t*(r?1:-1),h=n(p);if(h===t)return s([]),10-u;if(h===-1*t)return s([]),-10+u;if(0===h)return s([]),0;var f=function(e){var t={1:[],"-1":[]},r=o(e),n=!0,i=!1,s=void 0;try{for(var u,l=function(){var r=u.value,n=a.sum(e[r[0]]),i=a.sum(e.map(function(e){return e[r[1]]}));if(2===n&&t[1].push(r),-2===n&&t[-1].push(r),2===i&&t[1].push(r),-2===i&&t[-1].push(r),r[0]===r[1]){for(var o=0,c=0;c<3;c++)o+=e[c][c];2===o&&t[1].push(r),-2===o&&t[-1].push(r)}else if(0===r[0]&&2===r[1]||2===r[0]&&0===r[1]){for(var s=0,l=0;l<3;l++)s+=e[2-l][l];2===s&&t[1].push(r),-2===s&&t[-1].push(r)}},p=r[Symbol.iterator]();!(n=(u=p.next()).done);n=!0)l()}catch(d){i=!0,s=d}finally{try{n||null==p.return||p.return()}finally{if(i)throw s}}return t[1]=a.uniqBy(t[1],c),t[-1]=a.uniqBy(t[-1],c),t}(p),v=d.toString(),m=(-1*d).toString();if(f[v].length>0)return s(f[v][0]),(10-u)*(r?1:-1);if(f[m].length>1)return s(f[m][0]),(10-u)*(r?-1:1);f[m].length;var b=function(e,t){var r=o(e),a=[],n=!0,c=!1,s=void 0;try{for(var u,l=r[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var p=u.value,d=i(e);d[p[0]][p[1]]=t,a.push({move:p,board:d})}}catch(h){c=!0,s=h}finally{try{n||null==l.return||l.return()}finally{if(c)throw s}}return a}(p,d);return b.map(function(e){return e.score=l(e.board,t,!r,u+1),e}),b.sort(function(e,t){return e.score===t.score?0:e.score>t.score?1:-1}),r?(s(b[b.length-1].move),b[b.length-1].score):(s(b[0].move),b[0].score)}e.exports={aiPlace:function(e,t){return l(e,-t,!0,0),u},isWin:n,copyBoard:i}},,,,function(e,t,r){e.exports=r.p+"static/media/cinnamon_sticks.5d0cba1d.svg"},function(e,t,r){e.exports=r.p+"static/media/donut.8cb29d5e.svg"},,,,function(e,t,r){e.exports=r.p+"static/media/white.35c12016.svg"},,function(e,t,r){e.exports=r(17)},function(e,t,r){"use strict";r.r(t);var a=r(15),n=r(1),i=r(2),o=r(3),c=r(7),s=r(4),u=r(6),l=r(0),p=r.n(l),d=r(13),h=r.n(d),f=r(9),v=r.n(f),m=r(10),b=r.n(m),y=r(14),O=r.n(y),g=r(8),j=r.n(g),k=r(5),S={padding:0,margin:"auto"},E=0;function w(){return++E}var N=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getMessage",value:function(){return 0===this.props.data.playerSide?"Choose your side!":this.props.data.isWin===this.props.data.playerSide?"You Win!!":this.props.data.isWin===-1*this.props.data.playerSide?"AI Win!!":0===this.props.data.isWin?"Draw!!":this.props.data.currentTurn!==this.props.data.playerSide?"AI's turn.":"Your turn."}},{key:"render",value:function(){return p.a.createElement("div",{className:"row top-bar",id:"topBar"},p.a.createElement("div",{className:"col-6"},p.a.createElement("span",null," ",this.getMessage())),p.a.createElement("div",{className:"col-6"},p.a.createElement("button",{className:"btn btn-primary",onClick:this.props.reset}," Reset ")))}}]),t}(l.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"renderRow",value:function(e){for(var t=[],r=0;r<3;r++)t.push(this.renderCell(e,r));return p.a.createElement("div",{className:"row",key:w()}," ",t," ")}},{key:"renderCell",value:function(e,t){var r=this,a="";return a=1===this.props.data.board[e][t]?v.a:-1===this.props.data.board[e][t]?b.a:O.a,p.a.createElement("div",{className:"col-4 border",style:S,key:w(),onClick:function(){r.tryPlace(e,t)}},""!==a&&p.a.createElement("img",{className:"image-fluid",src:a,alt:"food"}))}},{key:"tryPlace",value:function(e,t){2===this.props.data.isWin&&0===this.props.data.board[e][t]?this.props.placePiece(e,t):console.log("invalid click")}},{key:"render",value:function(){for(var e=[],t=0;t<3;t++)e.push(this.renderRow(t));return p.a.createElement("div",{className:"col-12 col-lg-6 col-md-8 col-sm-10",style:S}," ",e)}}]),t}(l.Component),T=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(c.a)(this,Object(s.a)(t).call(this,e))).chooseNegOne=r.chooseNegOne.bind(Object(n.a)(Object(n.a)(r))),r.chooseOne=r.chooseOne.bind(Object(n.a)(Object(n.a)(r))),r}return Object(u.a)(t,e),Object(o.a)(t,[{key:"chooseOne",value:function(){this.props.choose(1)}},{key:"chooseNegOne",value:function(){this.props.choose(-1)}},{key:"render",value:function(){return p.a.createElement("div",{className:"col-12 col-lg-6 col-md-8 col-sm-10 row",style:S},p.a.createElement("div",{className:"col-6",onClick:this.chooseOne},p.a.createElement("img",{className:"image-fluid",src:v.a,alt:"food1"})),p.a.createElement("div",{className:"col-6",onClick:this.chooseNegOne},p.a.createElement("img",{className:"image-fluid",src:b.a,alt:"food-1"})))}}]),t}(l.Component),W={board:[[0,0,0],[0,0,0],[0,0,0]],currentTurn:1,playerSide:0,isWin:2},P=function(e){function t(e){var r;return Object(i.a)(this,t),(r=Object(c.a)(this,Object(s.a)(t).call(this,e))).state={board:[[0,0,0],[0,0,0],[0,0,0]],currentTurn:1,playerSide:0,isWin:2},r.resetGame=r.resetGame.bind(Object(n.a)(Object(n.a)(r))),r.playerChoose=r.playerChoose.bind(Object(n.a)(Object(n.a)(r))),r.placePiece=r.placePiece.bind(Object(n.a)(Object(n.a)(r))),r.aiTurn=r.aiTurn.bind(Object(n.a)(Object(n.a)(r))),r}return Object(u.a)(t,e),Object(o.a)(t,[{key:"resetGame",value:function(){this.setState(W)}},{key:"playerChoose",value:function(e){var t=this,r=j.a.cloneDeep(W);r.playerSide=e,this.setState(function(e){return r},function(){t.state.currentTurn!==t.state.playerSide&&t.aiTurn()})}},{key:"aiTurn",value:function(){console.log("ai moving");var e=!0,t=!1,r=void 0;try{for(var a,n=this.state.board[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var i=a.value;console.log(i)}}catch(c){t=!0,r=c}finally{try{e||null==n.return||n.return()}finally{if(t)throw r}}var o=Object(k.aiPlace)(Object(k.copyBoard)(this.state.board),this.state.playerSide);this.placePiece(o[0],o[1])}},{key:"placePiece",value:function(e,t){var r=this,n=-this.state.currentTurn;console.log("placing at"+e.toString()+" and "+t+", newTurn "+n);var i=Object(k.copyBoard)(this.state.board);i[e][t]=-n;var o=Object(k.isWin)(i);this.setState(function(e){return Object(a.a)({},e,{currentTurn:n,board:i,isWin:o})},function(){2===r.state.isWin&&r.state.currentTurn!==r.state.playerSide&&r.aiTurn()})}},{key:"renderMain",value:function(){return 0===this.state.playerSide?p.a.createElement(T,{choose:this.playerChoose}):p.a.createElement(C,{data:this.state,placePiece:this.placePiece})}},{key:"render",value:function(){return p.a.createElement("div",{className:"container"},p.a.createElement(N,{data:this.state,reset:this.resetGame}),this.renderMain())}}]),t}(l.Component);h.a.render(p.a.createElement(P,null),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.d7c2ed64.chunk.js.map